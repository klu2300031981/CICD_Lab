# Default values for bloodbank
replicaCount: 2

# Backend Configuration
backend:
  image:
    repository: bloodbank-backend
    tag: "1.0.0"
    pullPolicy: IfNotPresent
  service:
    type: ClusterIP
    port: 8080
  resources:
    requests:
      cpu: 500m
      memory: 512Mi
    limits:
      cpu: 1000m
      memory: 1Gi
  autoscaling:
    enabled: true
    minReplicas: 2
    maxReplicas: 10
    targetCPUUtilizationPercentage: 70
    targetMemoryUtilizationPercentage: 80
  env:
    spring.datasource.url: jdbc:mysql://bloodbank-mysql:3306/blood
    spring.datasource.username: root
    spring.datasource.password: changeme
    spring.jpa.hibernate.ddl-auto: update
    spring.mail.host: smtp.gmail.com
    spring.mail.port: 587
    spring.mail.username: your-email@gmail.com
    spring.mail.password: your-app-password

# Frontend Configuration
frontend:
  image:
    repository: bloodbank-frontend
    tag: "1.0.0"
    pullPolicy: IfNotPresent
  service:
    type: ClusterIP
    port: 80
  resources:
    requests:
      cpu: 100m
      memory: 128Mi
    limits:
      cpu: 200m
      memory: 256Mi
  autoscaling:
    enabled: true
    minReplicas: 2
    maxReplicas: 10
    targetCPUUtilizationPercentage: 70
  env:
    VITE_API_URL: http://bloodbank-backend:8080

# MySQL Database Configuration
mysql:
  enabled: true
  image:
    repository: mysql
    tag: "8.0"
    pullPolicy: IfNotPresent
  rootPassword: changeme
  database: blood
  persistence:
    enabled: true
    size: 10Gi
    storageClass: ""
  resources:
    requests:
      cpu: 500m
      memory: 512Mi
    limits:
      cpu: 1000m
      memory: 1Gi
  service:
    type: ClusterIP
    port: 3306

# Ingress Configuration
ingress:
  enabled: true
  className: "nginx"
  annotations:
    cert-manager.io/cluster-issuer: "letsencrypt-prod"
    nginx.ingress.kubernetes.io/rewrite-target: /
    nginx.ingress.kubernetes.io/ssl-redirect: "true"
  hosts:
    - host: bloodbank.example.com
  tls:
    - secretName: bloodbank-tls
      hosts:
        - bloodbank.example.com

# Security
security:
  secretName: bloodbank-secrets

